(function(t){function e(e){for(var s,i,r=e[0],c=e[1],A=e[2],l=0,g=[];l<r.length;l++)i=r[l],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&g.push(o[i][0]),o[i]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(t[s]=c[s]);u&&u(e);while(g.length)g.shift()();return a.push.apply(a,A||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],s=!0,r=1;r<n.length;r++){var c=n[r];0!==o[c]&&(s=!1)}s&&(a.splice(e--,1),t=i(i.s=n[0]))}return t}var s={},o={app:0},a=[];function i(e){if(s[e])return s[e].exports;var n=s[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=s,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)i.d(n,s,function(e){return t[e]}.bind(null,s));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=e,r=r.slice();for(var A=0;A<r.length;A++)e(r[A]);var u=c;a.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"0615":function(t,e,n){t.exports=n.p+"img/defualt-img-cover.80abdd38.jpg"},"066a":function(t,e,n){t.exports=n.p+"img/hero3.392e6d9e.jpg"},"0c95":function(t,e,n){t.exports=n.p+"img/rock2.e610a973.jpg"},1:function(t,e){},1842:function(t,e){},"20d6":function(t,e){t.exports="data:image/png;base64,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"},3782:function(t,e,n){},4678:function(t,e,n){var s={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function o(t){var e=a(t);return n(e)}function a(t){if(!n.o(s,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return s[t]}o.keys=function(){return Object.keys(s)},o.resolve=a,t.exports=o,o.id="4678"},"552e":function(t,e,n){t.exports=n.p+"img/electronic.0aaf4725.jpg"},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var s,o=n("2b0e"),a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("header",{staticClass:"header"},[s("div",{staticClass:"main-header flex space-between align-center justify-center"},[s("span",{staticClass:"logo",on:{click:function(e){return t.$router.push("/")}}},[s("img",{staticClass:"logo-img",attrs:{src:n("cf05"),alt:""}})]),s("nav",{staticClass:"main-nav"},[s("router-link",{staticClass:"nav-btn router-link router-btn",attrs:{to:"/stations"}},[t._v("Stations")]),s("router-link",{staticClass:"nav-btn router-link router-btn",attrs:{to:"/dashboard"}},[t._v("Statistics")]),s("router-link",{staticClass:"nav-btn router-link router-btn",attrs:{to:"/about"}},[t._v("About")]),s("router-link",{staticClass:"nav-btn router-link router-btn",attrs:{to:"/login"}},[t._v("Login")]),s("router-link",{staticClass:"nav-btn router-link router-btn",attrs:{to:"/edit"}},[t._v("Create station")])],1)])]),s("router-view"),s("curr-song"),s("footer",{staticClass:"coffeerights flex align-center justify-center"},[t._v("copyright Â© Nir, Naomi, Itamar 2020")])],1)},i=[],r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.currStation?s("section",{staticClass:"curr-song flex justify-center align-center"},[s("section",{staticClass:"song-controllers flex row justify-center align-center space-between"},[s("youtube",{ref:"youtube",attrs:{"video-id":t.videoId,"player-vars":t.playerVars},on:{playing:t.playing,ended:t.ended}}),t.isPlaying?s("img",{attrs:{src:n("a951")}}):s("img",{attrs:{src:n("20d6")}}),s("div",{staticClass:"currPlaying"},[s("h5",[t._v("Now Playing:")]),s("p",[t._v(t._s(t.currSong.title))])]),s("div",{staticClass:"flex row justify-center align-center"},[s("font-awesome-icon",{staticClass:"control-icon",attrs:{icon:t.volumeIcon}}),s("input",{attrs:{id:"volume",value:"100",type:"range"},on:{input:t.changeVolume}})],1),s("div",{staticClass:"flex row justify-center align-center"},[s("font-awesome-icon",{staticClass:"control-icon",attrs:{icon:"backward",size:"lg"},on:{click:function(e){return t.changeSong("prevSong")}}}),t.isPlaying?s("font-awesome-icon",{staticClass:"control-icon",attrs:{icon:"pause",size:"lg"},on:{click:function(e){return t.playOrPauseVideo(!1,!1)}}}):s("font-awesome-icon",{staticClass:"control-icon",attrs:{icon:"play",size:"lg"},on:{click:function(e){return t.playOrPauseVideo(!0,!1)}}}),s("font-awesome-icon",{staticClass:"control-icon",attrs:{icon:"forward",size:"lg"},on:{click:function(e){return t.changeSong("nextSong")}}})],1),s("span",{staticClass:"flex row justify-center align-center"},[t._v(" "+t._s(t.time)+" "),s("input",{attrs:{max:t.songEndTime,id:"progressBar",type:"range"},domProps:{value:t.songCurrTime},on:{input:function(e){return t.changeSongTime()},mousedown:function(e){return t.playOrPauseVideo(!1)},mouseup:function(e){return t.playOrPauseVideo(!0)},touchstart:function(e){return t.playOrPauseVideo(!1)},touchend:function(e){return t.playOrPauseVideo(!0)}}}),t._v(" "+t._s(t.duration)+" ")])],1)]):t._e()},c=[],A=(n("c740"),n("96cf"),n("1da1")),u=n("ad3d"),l=n("ecee"),g=n("c074"),d=n("b702"),f=n("8055"),p=n.n(f),m="/",h={setup:v,terminate:b,on:C,off:y,emit:S};function v(){s=p()(m)}function b(){s=null}function C(t,e){s.on(t,e)}function y(t,e){s.off(t,e)}function S(t,e){s.emit(t,e)}n("99af"),n("a434"),n("b0c0");var w=n("bc3a"),j=n.n(w),x={query:_,getById:E,remove:$,save:L,getEmptyStation:R,toggleLike:Q},k="/api/station";function I(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"".concat(k,"/").concat(t)}function _(t,e){var n="?name_like=".concat(t.name);e||(e="");var s="genre_like=".concat(e);return j.a.get("".concat(I()).concat(n,"&").concat(s)).then((function(t){return t.data}))}function E(t){return B.apply(this,arguments)}function B(){return B=Object(A["a"])(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,j.a.get("".concat(I(e)));case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)}))),B.apply(this,arguments)}function Q(t,e,n){return O.apply(this,arguments)}function O(){return O=Object(A["a"])(regeneratorRuntime.mark((function t(e,n,s){var o,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,E(e);case 2:o=t.sent,console.log("start ",o.likedByUsers),s?(n?o.likedByUsers.push(n):o.likedByUsers.push({username:"Guest"}),L(o),console.log("added: ",o.likedByUsers)):n?(a=o.likedByUsers.findIndex((function(t){return t._id===n._id})),o.likedByUsers.splice(a,1),L(o)):(console.log("before: ",o.likedByUsers),a=o.likedByUsers.findIndex((function(t){return"Guest"===t.username})),o.likedByUsers.splice(a,1),L(o));case 5:case"end":return t.stop()}}),t)}))),O.apply(this,arguments)}function $(t){return j.a.delete("".concat(I(t)))}function L(t){return t._id?M(t):T(t)}function R(){return{name:"",imgUrl:"",tags:[],createdAt:Date.now(),createdBy:{},likedByUsers:[],songs:[]}}function M(t){return console.log("update"),j.a.put("".concat(I(t._id)),t).then((function(t){return console.log(t.data),t.data}))}function T(t){return console.log("add"),j.a.post("".concat(I()),t).then((function(t){return t.data}))}l["c"].add(d["a"]),l["c"].add(g["c"]),l["c"].add(g["e"]),l["c"].add(g["b"]),l["c"].add(g["d"]),l["c"].add(g["a"]),l["c"].add(g["m"]),l["c"].add(g["l"]),l["c"].add(g["n"]);var P={name:"curr-song",data:function(){return{playerVars:{autoplay:1,controls:0,modestbranding:1,showinfo:0},time:"00:00",duration:"00:00",timeId:null,volumeIcon:"volume-up",isPlaying:!0,songEndTime:0,songCurrTime:0}},computed:{videoId:function(){return this.currSong.youtubeId},player:function(){return this.$refs.youtube.player},currStation:function(){return this.$store.getters.currStation},currSong:function(){return this.$store.getters.currSong}},created:function(){var t=this;return Object(A["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:h.on("song changed",(function(e){console.log(e),t.$store.dispatch({type:"setCurrSong",song:e})})),h.on("songStatus changed",(function(e){t.$store.commit({type:"setSongStatus",isPlaying:e}),t.playOrPauseVideo(e,!0)})),h.on("update song time",(function(e){t.updateSongTime(e)}));case 3:case"end":return e.stop()}}),e)})))()},methods:{playOrPauseVideo:function(t,e){var n=this;return Object(A["a"])(regeneratorRuntime.mark((function s(){return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:if(n.isPlaying=t,!t){s.next=6;break}return s.next=4,n.player.playVideo();case 4:s.next=8;break;case 6:return s.next=8,n.player.pauseVideo();case 8:if(!e){s.next=10;break}return s.abrupt("return");case 10:h.emit("set songStatus",t),n.$store.commit({type:"setSongStatus",isPlaying:t});case 12:case"end":return s.stop()}}),s)})))()},setCurrSong:function(t){var e=this;return Object(A["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return h.emit("set currSong",t),n.next=3,e.$store.dispatch({type:"setCurrSong",song:t});case 3:n.sent;case 4:case"end":return n.stop()}}),n)})))()},getSongEndTime:function(){var t=this;return Object(A["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.player.getDuration();case 2:return e.abrupt("return",t.songEndTime=e.sent);case 3:case"end":return e.stop()}}),e)})))()},changeSong:function(t){var e=this;return Object(A["a"])(regeneratorRuntime.mark((function n(){var s,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(s=e.currStation.songs.findIndex((function(t){return t._id===e.currSong._id})),"nextSong"!==t){n.next=6;break}s+1>=e.currStation.songs.length&&(s=-1),e.setCurrSong(e.currStation.songs[s+1]),n.next=9;break;case 6:if(!(s-1<0)){n.next=8;break}return n.abrupt("return");case 8:e.setCurrSong(e.currStation.songs[s-1]);case 9:return n.next=11,e.getSongEndTime();case 11:o=n.sent,e.duration=e.formatTime(o);case 13:case"end":return n.stop()}}),n)})))()},changeVolume:function(t){this.player.setVolume(t.target.value),this.changeVolumeIcon(t.target.value)},changeVolumeIcon:function(t){console.log(t),t>=60&&(this.volumeIcon="volume-up"),t<=60&&(this.volumeIcon="volume-down"),t<=20&&(this.volumeIcon="volume-off")},changeSongTime:function(){console.log(event.target.value),this.player.seekTo(event.target.value),h.emit("song time changed",event.target.value)},updateSongTime:function(t){console.log(t),this.player.seekTo(t)},playing:function(){var t=this;return Object(A["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.isPlaying=!0,e.t0=t,e.next=4,t.player.getDuration();case 4:e.t1=e.sent,t.duration=e.t0.formatTime.call(e.t0,e.t1),t.timeId=setInterval((function(){t.player.getCurrentTime().then((function(e){t.songCurrTime=e,t.time=t.formatTime(e+1)}))}),100);case 7:case"end":return e.stop()}}),e)})))()},formatTime:function(t){t=Math.round(t);var e=Math.floor(t/60),n=t-60*e;return n=n<10?"0"+n:n,e=e<10?"0"+e:e,e+":"+n},ended:function(){this.changeSong("nextSong"),this.time="00:00",clearInterval(this.timeId)}},mounted:function(){var t=this;return Object(A["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.t0=t,e.next=3,t.player.getDuration();case 3:e.t1=e.sent,t.duration=e.t0.formatTime.call(e.t0,e.t1),t.getSongEndTime();case 6:case"end":return e.stop()}}),e)})))()},components:{fontAwsomeIcon:u["fontAwsomeIcon"]}},U=P,z=n("2877"),Y=Object(z["a"])(U,r,c,!1,null,null,null),N=Y.exports,G={data:function(){return{}},created:function(){h.setup()},components:{currSong:N}},D=G,F=Object(z["a"])(D,a,i,!1,null,null,null),V=F.exports,J=n("9483");Object(J["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}});var H=n("8c4f"),q=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"stations-page main-layout"},[n("div",{}),n("section",{staticClass:"genre-stations"},[t.genre?n("h1",{staticClass:"h1  yellow capitalize"},[t._v("Genre: "+t._s(t.genre))]):n("h1",{staticClass:"h1 container yellow"},[t._v(" Stations")]),n("div",{staticClass:"flex justify-center align-center"},[n("station-filter",{staticClass:"filter",on:{filterStations:t.setFilter}})],1),t.genre?n("station-list",{staticClass:"container",attrs:{genre:t.genre,stations:t.stations},on:{toggleLike:t.toggleLike}}):t._l(t.genres,(function(e){return n("section",{key:e,staticClass:"all-stations"},[t.genresMap[e]>0?n("div",{staticClass:"genre-header container flex space-between"},[n("h3",{staticClass:"capitalize"},[t._v(t._s(e))]),n("span",{staticClass:"show-all",on:{click:function(n){return t.moveTo(e)}}},[t._v("Show All")])]):t._e(),t.genresMap[e]>0?n("div",{staticClass:"background container"},[n("station-list",{staticClass:"container",attrs:{genre:e,stations:t.stations},on:{toggleLike:t.toggleLike}})],1):t._e()])}))],2)])},X=[],W=n("5530"),K=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.stations?n("div",{staticClass:"station-list"},[t.genreFromUrl?n("button",{staticClass:"btn",on:{click:t.moveTo}},[t._v("Return to all stations")]):t._e(),n("ul",{staticClass:" clean-list card-grid"},t._l(t.stations,(function(e){return n("station-preview",{key:e._id,staticClass:"station",attrs:{genre:t.genre,station:e},on:{toggleLike:t.toggleLike}})})),1),n("div",{staticClass:"block"})]):t._e()},Z=[],tt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.station.genre===t.genre||t.isPopular?n("li",[n("div",{staticClass:"station-preview ratio-card flex col align-center justify-center",on:{click:function(e){return t.openDetails(t.station._id)}}},[n("section",{staticClass:"station-cover "},[n("img",{attrs:{src:t.station.imgUrl}})]),n("div",{staticClass:"preview-details flex space-between align-center"},[n("div",{staticClass:"flex align-center"},[n("font-awesome-icon",{staticClass:"play-icon",attrs:{icon:"play-circle",size:"lg"}}),n("section",{},[n("h2",[t._v(t._s(t.name))]),n("span",[t._v(" "+t._s(t.station.songs.length)+" tracks")]),n("font-awesome-icon",{staticClass:"clock-icon",attrs:{icon:["far","clock"]}})],1)],1),n("section",{staticClass:"like-section"},[n("span",[t._v(t._s(t.station.likedByUsers.length))]),n("font-awesome-icon",{staticClass:"heart-icon",class:{liked:t.isLiked},attrs:{icon:"heart",size:"lg"},on:{click:function(e){return e.stopPropagation(),t.toggleLike(t.station._id)}}})],1)])])]):t._e()},et=[],nt=n("c1df"),st=n.n(nt);l["c"].add(g["c"]),l["c"].add(d["a"]),l["c"].add(g["f"]);var ot={props:["station","genre","isPopular"],data:function(){return{isLiked:!1}},computed:{createdAt:function(){return st()(this.station.createdAt).subtract(10,"days").calendar()},name:function(){return this.station.name.length>10?this.station.name.substring(0,15)+"...":this.station.name}},methods:{openDetails:function(t){var e=this.$route.params.genre;e?this.$router.push("details/".concat(t)):this.$router.push("stations/details/".concat(t))},toggleLike:function(t){this.isLiked=!this.isLiked,this.$emit("toggleLike",t,this.isLiked)}},components:{fontAwsomeIcon:u["fontAwsomeIcon"]}},at=ot,it=n("1842"),rt=n.n(it),ct=n("a8ec"),At=n.n(ct),ut=n("fdd1"),lt=n.n(ut),gt=Object(z["a"])(at,tt,et,!1,null,null,null);"function"===typeof rt.a&&rt()(gt),"function"===typeof At.a&&At()(gt),"function"===typeof lt.a&&lt()(gt);var dt=gt.exports,ft={props:["stations","genre"],data:function(){return{genreFromUrl:""}},computed:{},created:function(){var t=this.$route.params.genre;this.genreFromUrl=t},methods:{toggleLike:function(t,e){this.$emit("toggleLike",t,e)},moveTo:function(t){this.$router.push("/stations"),location.reload()}},components:{stationPreview:dt}},pt=ft,mt=Object(z["a"])(pt,K,Z,!1,null,null,null),ht=mt.exports,vt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"popular-station-list "},[n("ul",{staticClass:"clean-list "},[n("div",{staticClass:"block"},[n("el-carousel",{attrs:{trigger:"click"}},t._l(t.popularStations,(function(e){return n("el-carousel-item",{key:e._id},[n("station-preview",{attrs:{isPopular:t.isPopular,station:e},on:{toggleLike:t.toggleLike}})],1)})),1)],1)])])},bt=[],Ct={props:["stations"],computed:{popularStations:function(){return this.$store.getters.popularStations},isPopular:function(){return!0}},methods:{toggleLike:function(t,e){this.$emit("toggleLike",t,e)}},components:{stationPreview:dt}},yt=Ct,St=Object(z["a"])(yt,vt,bt,!1,null,null,null),wt=St.exports,jt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"input-container"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.filterBy.name,expression:"filterBy.name"}],staticClass:"filter-stations",attrs:{type:"text",placeholder:"filter stations"},domProps:{value:t.filterBy.name},on:{input:[function(e){e.target.composing||t.$set(t.filterBy,"name",e.target.value)},t.filterStations]}}),n("div",{staticClass:"search"})])},xt=[],kt={data:function(){return{filterBy:{name:null}}},methods:{filterStations:function(){this.$emit("filterStations",this.filterBy)}}},It=kt,_t=Object(z["a"])(It,jt,xt,!1,null,null,null),Et=_t.exports;l["c"].add(g["h"]);var Bt={data:function(){return{genres:["hiphop","arabic","easy","electronic","country","flamenco","jazz","rock","pop"],genre:""}},computed:{genresMap:function(){return this.$store.getters.genresMap},stations:function(){return console.log("stations : ",this.$store.getters.stations),this.$store.getters.stations}},created:function(){var t=this.$route.params.genre;this.genre=t,this.loadStations(t)},methods:{setFilter:function(t){var e=this.$route.params.genre;this.$store.commit({type:"setFilter",filterBy:Object(W["a"])({},t)}),this.$store.dispatch({type:"loadStations"}),this.loadStations(e)},toggleLike:function(t,e){var n=this;return Object(A["a"])(regeneratorRuntime.mark((function s(){var o;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return o=n.$store.getters.loggedinUser,s.next=3,x.toggleLike(t,o,e);case 3:n.loadStations();case 4:case"end":return s.stop()}}),s)})))()},loadStations:function(t){this.$store.dispatch({type:"loadStations",genre:t})},moveTo:function(t){this.$router.push("/stations/".concat(t)),location.reload()}},components:{stationList:ht,stationFilter:Et,popularStations:wt,fontAwsomeIcon:u["fontAwsomeIcon"]}},Qt=Bt,Ot=Object(z["a"])(Qt,q,X,!1,null,null,null),$t=Ot.exports,Lt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"about"},[s("h1",[t._v("About Us")]),s("ul",{staticClass:"creator-list container"},[s("li",{staticClass:"itamar flex justify-center align-center"},[s("img",{attrs:{src:n("9118"),alt:"creator image"}}),s("div",{staticClass:"creator-info"},[s("h3",[t._v("Itamar Joseph")]),s("p",[t._v("A full stack web developer.Graduated at MisterBit Coding Academy. Experience with: Vue.js, React, Angular, Javascript, HTML, CSS, SASS, Node.js, Mongo.db.")]),s("p",[t._v("Hobbies: Nature, computer games")]),s("section",{staticClass:"social-about"},[s("a",{attrs:{href:"https://www.linkedin.com/in/itamar-joseph-6a3b8b1b0/"}},[s("font-awesome-icon",{staticClass:"icon linkedin-icon",attrs:{size:"lg",icon:["fab","linkedin"]}})],1),s("a",{attrs:{href:"https://www.facebook.com/profile.php?id=100000008839584"}},[s("font-awesome-icon",{staticClass:"icon facebook-icon",attrs:{size:"lg",icon:["fab","facebook-square"]}})],1),s("a",{attrs:{href:"https://github.com/Itamar80"}},[s("font-awesome-icon",{staticClass:"icon github-icon",attrs:{size:"lg",icon:["fab","github"]}})],1)])])]),s("li",{staticClass:"Naomi flex justify-center align-center"},[s("img",{attrs:{src:n("a6a4"),alt:"creator image"}}),s("div",{staticClass:"creator-info"},[s("h3",[t._v("Naomi Elkayam")]),s("p",[t._v("A full stack web developer. Graduated at MisterBit's Coding Academy. Experienced with: Vue.js, React, Angular, Javascript, HTML, CSS, SASS, Node.js, Mongo.db.")]),s("section",{staticClass:"social-about"},[s("a",{attrs:{href:"https://www.linkedin.com/in/naomi-elkayam-8961741a5/"}},[s("font-awesome-icon",{staticClass:"icon linkedin-icon",attrs:{size:"lg",icon:["fab","linkedin"]}})],1),s("a",{attrs:{href:"https://www.facebook.com/naomi.elkayam/"}},[s("font-awesome-icon",{staticClass:"icon facebook-icon",attrs:{size:"lg",icon:["fab","facebook-square"]}})],1),s("a",{attrs:{href:"https://github.com/naomielka"}},[s("font-awesome-icon",{staticClass:"icon github-icon",attrs:{size:"lg",icon:["fab","github"]}})],1)])])]),s("li",{staticClass:"Nir flex justify-center align-center"},[s("img",{attrs:{src:n("9118"),alt:"creator image"}}),s("div",{staticClass:"creator-info"},[s("h3",[t._v("Nir Druckman")]),s("p",[t._v("A full stack web developer.Graduated at MisterBit Coding Academy. Experience with: Vue.js, React, Angular, Javascript, HTML, CSS, SASS, Node.js, Mongo.db.")]),s("p",[t._v("Hobbies: Nature, computer games")]),s("section",{staticClass:"social-about"},[s("font-awesome-icon",{staticClass:"icon linkedin-icon",attrs:{size:"lg",icon:["fab","linkedin"]}}),s("a",{attrs:{href:""}},[s("font-awesome-icon",{staticClass:"icon facebook-icon",attrs:{size:"lg",icon:["fab","facebook-square"]}})],1),s("font-awesome-icon",{staticClass:"icon github-icon",attrs:{size:"lg",icon:["fab","github"]}})],1)])])])])},Rt=[],Mt=n("f2d1");l["c"].add(Mt["c"]),l["c"].add(Mt["a"]),l["c"].add(Mt["b"]);var Tt={name:"about-page",data:function(){return{}},created:function(){},computed:{},methods:{},components:{fontAwsomeIcon:u["fontAwsomeIcon"]}},Pt=Tt,Ut=Object(z["a"])(Pt,Lt,Rt,!1,null,null,null),zt=Ut.exports,Yt=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},Nt=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"dashboard"},[n("h1",[t._v("This is the statistics page")])])}],Gt={},Dt=Object(z["a"])(Gt,Yt,Nt,!1,null,null,null),Ft=Dt.exports,Vt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"station-app main-layout"},[t._m(0),s("section",{staticClass:"homepage"},[s("h2",{staticClass:"h2"},[t._v("Most popular:")]),s("popular-stations",{attrs:{stations:t.stations},on:{toggleLike:t.toggleLike}}),s("h2",{staticClass:"h2-genres"},[t._v("Genres:")]),s("section",{staticClass:"channel-container card-grid"},[s("router-link",{staticClass:"station-cover flex",attrs:{to:"stations/hiphop"}},[s("img",{attrs:{src:n("fc2b"),alt:"genre image"}}),s("span",{staticClass:"hiphop-channel channel flex flex-start align-center col"},[s("h3",[t._v("Hip-Hop")]),s("p",[t._v("Show more")])])]),s("router-link",{staticClass:"station-cover flex",attrs:{to:"stations/rock"}},[s("img",{attrs:{src:n("0c95"),alt:"genre image"}}),s("span",{staticClass:"rock-channel channel flex flex-start align-center col"},[s("h3",[t._v("Rock")]),s("p",[t._v("Show more")])])]),s("router-link",{staticClass:"station-cover flex",attrs:{to:"stations/arabic"}},[s("img",{attrs:{src:n("b69a"),alt:"genre image"}}),s("span",{staticClass:"arabic-channel channel flex flex-start align-center col"},[s("h3",[t._v("Arabic")]),s("p",[t._v("Show more")])])]),s("router-link",{staticClass:"station-cover flex",attrs:{to:"stations/easy"}},[s("img",{attrs:{src:n("b382"),alt:"genre image"}}),s("span",{staticClass:"easy-channel channel flex flex-start align-center col"},[s("h3",[t._v("Easy")]),s("p",[t._v("Show more")])])]),s("router-link",{staticClass:"station-cover flex",attrs:{to:"stations/electronic"}},[s("img",{attrs:{src:n("552e"),alt:"genre image"}}),s("span",{staticClass:"electronic-channel channel flex flex-start align-center col"},[s("h3",[t._v("Electronic")]),s("p",[t._v("Show more")])])]),s("router-link",{staticClass:"station-cover flex",attrs:{to:"stations/country"}},[s("img",{attrs:{src:n("b2d4"),alt:"genre image"}}),s("span",{staticClass:"country-channel channel flex flex-start align-center col"},[s("h3",[t._v("Country")]),s("p",[t._v("Show more")])])])],1)],1)])},Jt=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"back"},[s("div",{staticClass:"create-filter flex justify-center align-center"}),s("div",{staticClass:"hero-img"},[s("div",{staticClass:"gradient"},[s("h1",[t._v("Party without borders")]),s("h3",[t._v(" Listen to music with friends. No matter where they're at. ")]),s("img",{attrs:{src:n("6ee5")}}),s("img",{attrs:{src:n("ff43")}}),s("img",{attrs:{src:n("066a")}}),s("img",{attrs:{src:n("ff43")}})])])])}],Ht={data:function(){return{stations:[],genre:""}},created:function(){this.loadStations(),window.addEventListener("scroll",this.handleScroll)},destroyed:function(){window.removeEventListener("scroll",this.handleScroll)},methods:{handleScroll:function(t){},setFilter:function(t){this.$store.commit({type:"setFilter",filterBy:Object(W["a"])({},t)}),this.$store.dispatch({type:"loadStations"}),this.loadStations()},toggleLike:function(t,e){var n=this;return Object(A["a"])(regeneratorRuntime.mark((function s(){var o;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return o=n.$store.getters.loggedInUser,s.next=3,x.toggleLike(t,o,e);case 3:n.loadStations();case 4:case"end":return s.stop()}}),s)})))()},loadStations:function(){var t=this;return Object(A["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch({type:"loadStations"});case 2:t.stations=e.sent;case 3:case"end":return e.stop()}}),e)})))()}},components:{stationList:ht,stationFilter:Et,popularStations:wt}},qt=Ht,Xt=Object(z["a"])(qt,Vt,Jt,!1,null,null,null),Wt=Xt.exports,Kt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"station-details flex space-between"},[t.station?n("chat-app",{attrs:{station:t.station}}):t._e(),t.station?n("section",{staticClass:"container"},[n("div",{staticClass:"top-section flex justify-center align-center space-between"},[n("div",{staticClass:"flex col"},[n("h1",[t._v(t._s(t.station.name))]),t.station.createdBy.fullName?n("span",[t._v("Created By: "+t._s(t.station.createdBy.fullName))]):t._e(),n("span",{staticClass:"genre capitalize"},[t._v(t._s(t.station.genre))]),n("span",[n("font-awesome-icon",{staticClass:"icon heart-icon",class:{liked:t.isLiked},attrs:{icon:"heart",size:"lg"},on:{click:function(e){return e.stopPropagation(),t.toggleLike(t.station._id)}}}),t._v(" "+t._s(t.station.likedByUsers.length)+" ")],1),n("span",[n("font-awesome-icon",{staticClass:"icon clock-icon",attrs:{size:"lg",icon:["far","clock"]}}),t._v(" "+t._s(t.station.songs.length)+" tracks ")],1),n("p",[t._v("Now Playing: "+t._s(t.currSong.title))])]),n("img",{staticClass:"cover-img",attrs:{src:t.station.imgUrl}})]),t.station?n("song-list",{attrs:{songList:t.youtubeSongList,currSong:t.currSong,station:t.station},on:{addSong:t.addSong,deleteSong:t.deleteSong,searchSongs:t.searchSongs,playSong:t.setCurrSong,updateSongList:t.updateSongList}}):t._e()],1):t._e()],1)},Zt=[],te=n("ade3"),ee="AIzaSyAugnsrBVD7WJzkh_2sfqY6mRSXTHb7w28",ne={searchSong:se,makeId:oe};function se(t){return j.a.get("https://www.googleapis.com/youtube/v3/search?videoCategoryId=10&part=id,snippet&maxResults=10&type=video&q=".concat(t,"&key=").concat(ee)).then((function(t){return t.data}))}function oe(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8,e="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",s=0;s<t;s++)e+=n.charAt(Math.floor(Math.random()*n.length));return e}var ae=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"chat-app"},[n("h1",[t._v("Chat")]),n("section",{staticClass:"chat-container"},[t.isTyping?n("span",{staticClass:"is-typing"},[t._v(t._s(t.user)+" is typing "),n("div",{staticClass:"jump1"}),n("div",{staticClass:"jump2"}),n("div",{staticClass:"jump3"}),n("div",{staticClass:"jump4"}),n("div",{staticClass:"jump5"})]):t._e(),n("ul",{staticClass:"clean-list"},t._l(t.msgs,(function(e,s){return n("li",{key:s,staticClass:"message"},[t._v(t._s(e.from)+" : "+t._s(e.txt))])})),0)]),n("form",{staticClass:"chat-form flex justify-center",on:{submit:function(e){return e.preventDefault(),t.sendMsg(e)}}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.msg.txt,expression:"msg.txt"}],attrs:{type:"text"},domProps:{value:t.msg.txt},on:{input:[function(e){e.target.composing||t.$set(t.msg,"txt",e.target.value)},t.setIsTyping]}}),n("button",{staticClass:"btn"},[t._v("Send")])])])},ie=[],re={name:"chat",props:["station"],data:function(){return{isTyping:!1,user:null,msg:{stationId:this.station._id,from:null,txt:""},msgs:[]}},created:function(){var t=this.$route.params.id;this.msg.from=this.loggedinUser,this.$store.dispatch({type:"setupSocketName",chatId:t}),this.$store.dispatch({type:"addMsg",msg:this.addMsg}),this.$store.dispatch({type:"showTyping",msg:this.addMsg})},destroyed:function(){h.off("chat addMsg",this.addMsg)},computed:{loggedinUser:function(){var t=this.$store.getters.loggedinUser?this.$store.getters.loggedinUser:{fullName:"Guest"};return console.log("chatu",t),t.fullName}},methods:{addMsg:function(t){this.msgs.push(t),this.isTyping=!1},setIsTyping:function(){""!==this.msg.txt?h.emit("chat typing",this.msg.from):this.isTyping=!1},showTyping:function(t){this.isTyping=!0,console.log("userName is typing",t),this.user=t},sendMsg:function(){this.isTyping=!1,this.msg.sentAt=Date.now(),this.$store.dispatch({type:"sendMsg",msg:this.msg}),this.msg={stationId:this.station._id,from:this.loggedinUser,txt:""}}}},ce=re,Ae=Object(z["a"])(ce,ae,ie,!1,null,null,null),ue=Ae.exports,le=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"song-list"},[n("section",{staticClass:"song-search flex space-between align-center"},[n("div",{staticClass:"flex row align-center"},[t.isAddSong?n("input",{directives:[{name:"model",rawName:"v-model",value:t.songToFindYoutube,expression:"songToFindYoutube"}],attrs:{type:"text"},domProps:{value:t.songToFindYoutube},on:{input:function(e){e.target.composing||(t.songToFindYoutube=e.target.value)}}}):t._e(),t.isAddSong?n("button",{staticClass:"btn edit-sub-btn",on:{click:function(e){return e.preventDefault(),t.searchSongs(e)}}},[t._v("Search new songs")]):t._e(),t.isAddSong?t._e():n("input",{directives:[{name:"model",rawName:"v-model",value:t.songTofindStation,expression:"songTofindStation"}],staticClass:"input",attrs:{type:"text"},domProps:{value:t.songTofindStation},on:{input:function(e){e.target.composing||(t.songTofindStation=e.target.value)}}}),t.isAddSong?t._e():n("button",{staticClass:"btn edit-sub-btn",on:{click:function(e){return e.preventDefault(),t.searchInStation(e)}}},[t._v("Search in Station")])]),n("font-awesome-icon",{staticClass:"icon toggle-songs",attrs:{icon:t.toggleAdd,size:"lg"},on:{click:function(e){t.isAddSong=!t.isAddSong}}})],1),n("vue-custom-scrollbar",{staticClass:"scroll-area",attrs:{suppressScrollX:"",settings:t.settings},on:{"ps-scroll-y":t.scrollHanle}},[t.isAddSong?n("youtubeSongs",{attrs:{songList:t.songList},on:{addSong:t.addSong}}):n("section",{staticClass:"songlist-container"},[n("div",[n("div",{staticClass:"simple-page"},[n("Container",{attrs:{"get-ghost-parent":t.getGhostParent,"remove-on-drop-out":!0},on:{drop:t.onDrop,"drop-ready":t.onDropReady}},t._l(t.station.songs,(function(e,s){return n("Draggable",{key:e._id},[n("div",{staticClass:"draggable-item"},[n("songListPrev",{attrs:{index:s,currSong:t.currSong,song:e},on:{deleteSong:t.deleteSong,playSong:t.playSong}})],1)])})),1)],1)])])],1)],1)},ge=[],de=(n("4de4"),n("caad"),n("2532"),n("3f7d")),fe=n("2909"),pe=function(t,e){var n=e.removedIndex,s=e.addedIndex,o=e.payload;if(null===n&&null===s)return t;var a=Object(fe["a"])(t),i=o;return null!==n&&(i=a.splice(n,1)[0]),null!==s&&a.splice(s,0,i),a},me=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",[s("div",{staticClass:"youtube-song flex space-between align-center",on:{click:t.playSong}},[s("section",{staticClass:"flex row align-center"},[s("div",{staticClass:"index-container flex align-center justify-center"},[s("span",{staticClass:"index"},[t._v(t._s(t.index+1))])]),s("p",[t._v(t._s(t.song.title))])]),t.edit?s("span",{staticClass:"delele-btn",on:{click:function(e){return e.stopPropagation(),t.deleteSong(e)}}},[t._v("x")]):s("div",{staticClass:"flex align-center"},[t.isPlaying?s("div",{staticClass:"sound-gif"},[t.songPlaying?s("img",{staticClass:"sound-gif",attrs:{src:n("a951")}}):s("img",{staticClass:"sound-gif",attrs:{src:n("20d6")}})]):s("font-awesome-icon",{staticClass:"play",attrs:{icon:"play"}}),s("span",{staticClass:"delele-btn",on:{click:function(e){return e.stopPropagation(),t.deleteSong(e)}}},[t._v("x")])],1)])])},he=[];n("a9e3");l["c"].add(g["e"]),l["c"].add(g["j"]);var ve={props:{index:Number,song:Object,currSong:Object,edit:Boolean},data:function(){return{isPlaying:!1}},watch:{currSong:function(t,e){this.checkIfPlaying()}},computed:{songPlaying:function(){return this.$store.getters.isPlaying}},created:function(){this.checkIfPlaying()},methods:{playSong:function(){var t=this;return Object(A["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$emit("playSong",t.song);case 2:t.checkIfPlaying();case 3:case"end":return e.stop()}}),e)})))()},deleteSong:function(){this.$emit("deleteSong",this.song._id)},checkIfPlaying:function(){this.isPlaying=this.song._id===this.currSong._id}},components:{fontAwsomeIcon:u["fontAwsomeIcon"]}},be=ve,Ce=Object(z["a"])(be,me,he,!1,null,null,null),ye=Ce.exports,Se=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"youtubeList"},[n("ul",{staticClass:"clean-list"},t._l(t.songList.items,(function(e){return n("li",{key:e.id.videoId},[n("youtube-song",{attrs:{song:e},on:{addSong:t.addSong}})],1)})),0)])},we=[],je=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"youtube-song flex space-between align-center"},[n("section",{staticClass:"flex row align-center"},[n("img",{attrs:{src:t.song.snippet.thumbnails.default.url}}),n("p",[t._v(t._s(t.song.snippet.title))])]),n("font-awesome-icon",{staticClass:"icon plus",attrs:{icon:"plus",size:"lg"},on:{click:function(e){return e.stopPropagation(),t.addSong(t.song)}}})],1)},xe=[];l["c"].add(g["g"]);var ke={props:{song:Object},created:function(){},methods:{addSong:function(t){var e={_id:ne.makeId(),youtubeId:t.id.videoId,title:t.snippet.title,imgUrl:t.snippet.thumbnails.default.url};this.$emit("addSong",e)}}},Ie=ke,_e=Object(z["a"])(Ie,je,xe,!1,null,null,null),Ee=_e.exports,Be={props:{songList:Object},data:function(){return{}},created:function(){console.log(this.songLit)},methods:{addSong:function(t){this.$emit("addSong",t)}},components:{youtubeSong:Ee}},Qe=Be,Oe=Object(z["a"])(Qe,Se,we,!1,null,null,null),$e=Oe.exports,Le=n("4b70"),Re=n.n(Le);l["c"].add(g["i"]),l["c"].add(g["g"]);var Me={props:{station:Object,currSong:Object,songList:Object,isPlaying:Boolean},data:function(){return{songToFindYoutube:"",songTofindStation:"",settings:{maxScrollbarLength:60,suppressScrollX:!0},isAddSong:!1}},computed:{toggleAdd:function(){return this.isAddSong?"times":"plus"}},watch:{songTofindStation:function(t){""===t&&(this.songs=this.station.songs)},songToFindYoutube:function(t){""===t&&this.$store.commit("clearSongList")}},methods:{searchSongs:function(){console.log(this.songToFindYoutube),this.$emit("searchSongs",this.songToFindYoutube)},searchInStation:function(){var t=this;this.songs=this.station.songs.filter((function(e){return e.title.includes(t.songTofindStation)}))},addSong:function(t){this.$emit("addSong",t),this.songToFindYoutube="",this.isAddSong=!1},deleteSong:function(t){this.$emit("deleteSong",t)},playSong:function(t){this.$emit("playSong",t)},scrollHanle:function(t){},onDrop:function(t){var e=JSON.parse(JSON.stringify(this.station.songs));e=pe(e,t),this.$emit("updateSongList",e)},getGhostParent:function(){return document.body},onDropReady:function(t){console.log("drop ready",t)}},components:{songListPrev:ye,youtubeSongs:$e,vueCustomScrollbar:Re.a,Container:de["a"],Draggable:de["b"]}},Te=Me,Pe=Object(z["a"])(Te,le,ge,!1,null,null,null),Ue=Pe.exports,ze={data:function(){return{isLiked:!1}},created:function(){var t=this;console.log("stations from created: ",this.stations);var e=this.$route.params.id;this.setStation(e),h.emit("join station",e),h.on("song changed",(function(e){t.$store.dispatch({type:"setCurrSong",song:e})})),h.on("station changed",(function(e){console.log(e),t.$store.commit({type:"setCurrStation",station:e})}))},computed:{youtubeSongList:function(){return this.$store.getters.songList},station:function(){return this.$store.getters.currStation},currSong:function(){return this.$store.getters.currSong},stations:function(){return console.log("stations",this.$store.getters.stations),this.$store.getters.stations},loggedInUser:function(){return console.log("kiki",this.$store.getters.loggedinUser),this.$store.getters.loggedinUser}},methods:Object(te["a"])({toggleLike:function(t){this.isLiked=!this.isLiked,this.$emit("toggleLike",t,this.isLiked)},setStation:function(t){var e=this;return Object(A["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,e.$store.dispatch({type:"getCurrStation",id:t});case 2:e.setCurrSong(e.station.songs[0]);case 3:case"end":return n.stop()}}),n)})))()},searchSongs:function(t){var e=this;return Object(A["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,e.$store.dispatch({type:"searchSong",songStr:t});case 2:case"end":return n.stop()}}),n)})))()},setCurrSong:function(t){var e=this;return Object(A["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return h.emit("set currSong",t),n.next=3,e.$store.dispatch({type:"setCurrSong",song:t});case 3:n.sent;case 4:case"end":return n.stop()}}),n)})))()},updateSongList:function(t){var e=JSON.parse(JSON.stringify(this.station));e.songs=t,h.emit("station songs changed",e),this.$store.dispatch({type:"saveStation",station:e})},addSong:function(t){var e=JSON.parse(JSON.stringify(this.station));e.songs.push(t),h.emit("station songs changed",e),this.$store.dispatch({type:"saveStation",station:e})},deleteSong:function(t){var e=this.station.songs.findIndex((function(e){return e._id===t})),n=JSON.parse(JSON.stringify(this.station));n.songs.splice(e,1),h.emit("station songs changed",n),this.$store.dispatch({type:"saveStation",station:n})},changeSong:function(t,e){var n=this.station.songs.findIndex((function(t){return t._id===e._id}));if("nextSong"===t)n+1>=this.station.songs.length&&(n=-1),this.setCurrSong(this.station.songs[n+1]);else{if(n-1<0)return;this.setCurrSong(this.station.songs[n-1])}}},"toggleLike",(function(t,e){var n=this;return Object(A["a"])(regeneratorRuntime.mark((function s(){var o;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return o=n.$store.getters.loggedInUser,s.next=3,x.toggleLike(t,o,e);case 3:n.setStation(t);case 4:case"end":return s.stop()}}),s)})))()})),components:{chatApp:ue,songList:Ue,currSong:N}},Ye=ze,Ne=Object(z["a"])(Ye,Kt,Zt,!1,null,null,null),Ge=Ne.exports,De=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",[n("h1",[t._v("This is the login/signup page")]),n("h2",[t._v(t._s(t.msg))]),t.loggedinUser?n("div",{staticClass:"logged-in flex justify-center align-center col"},[n("h3",[t._v(" Welcome : "+t._s(t.loggedinUser.fullName)+" ")]),n("button",{on:{click:t.doLogout}},[t._v("Logout")])]):t._e(),t.loggedinUser?t._e():n("div",{staticClass:"login container flex justify-center align-center col"},[t.isLogin?n("form",{staticClass:"flex justify-center align-center col",on:{submit:t.login}},[t._v(" Username: "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.loginCred.username,expression:"loginCred.username"}],attrs:{type:"text"},domProps:{value:t.loginCred.username},on:{input:function(e){e.target.composing||t.$set(t.loginCred,"username",e.target.value)}}}),t._v(" Password: "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.loginCred.password,expression:"loginCred.password"}],attrs:{type:"password"},domProps:{value:t.loginCred.password},on:{input:function(e){e.target.composing||t.$set(t.loginCred,"password",e.target.value)}}}),n("button",{staticClass:"signupfree"},[t._v("Login")])]):t._e(),n("div",{staticClass:"signup container  flex justify-center align-center col"},[t.isLogin?t._e():n("form",{staticClass:"flex justify-center align-center col",on:{submit:t.signup}},[t._v(" Email: "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.signupCred.email,expression:"signupCred.email"}],attrs:{type:"text",placeholder:"email@example.com"},domProps:{value:t.signupCred.email},on:{input:function(e){e.target.composing||t.$set(t.signupCred,"email",e.target.value)}}}),t._v(" Username: "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.signupCred.username,expression:"signupCred.username"}],attrs:{type:"text"},domProps:{value:t.signupCred.username},on:{input:function(e){e.target.composing||t.$set(t.signupCred,"username",e.target.value)}}}),t._v(" Password: "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.signupCred.password,expression:"signupCred.password"}],attrs:{type:"password"},domProps:{value:t.signupCred.password},on:{input:function(e){e.target.composing||t.$set(t.signupCred,"password",e.target.value)}}}),t._v(" Full Name: "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.signupCred.fullName,expression:"signupCred.fullName"}],attrs:{type:"text"},domProps:{value:t.signupCred.fullName},on:{input:function(e){e.target.composing||t.$set(t.signupCred,"fullName",e.target.value)}}}),n("input",{staticClass:"inputfile",attrs:{type:"file"},on:{change:t.onUploadImg}}),n("label",{attrs:{for:"file"}},[t._v("Upload Profile Image")]),n("button",{staticClass:"signupfree"},[t._v("Signup")])])]),n("span",{staticClass:"change-sign-log"},[t._v(" New around? "),n("button",{staticClass:"signupfree",on:{click:t.changeForm}},[t._v(t._s(t.button.txt))])])])])},Fe=[],Ve=(n("d3b7"),function(t){var e="wv15wepp",n="db6ixiio2",s="https://api.cloudinary.com/v1_1/".concat(n,"/image/upload"),o=new FormData;return o.append("file",t.target.files[0]),o.append("upload_preset",e),fetch(s,{method:"POST",body:o}).then((function(t){return t.json()})).then((function(t){return console.log(t),t})).catch((function(t){return console.error(t)}))}),Je={data:function(){return{loginCred:{username:null,password:null},signupCred:{username:null,password:null,email:null,fullName:null,imgUrl:""},msg:"",img:"",button:{txt:"Signup for free"},isLogin:!1}},computed:{loggedinUser:function(){return console.log(this.$store.getters.loggedinUser),this.$store.getters.loggedinUser}},methods:{login:function(){var t=this;return Object(A["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=t.loginCred,t.loginCred.username&&t.loginCred.password){e.next=3;break}return e.abrupt("return",t.msg="Please enter user/password");case 3:return e.next=5,t.$store.dispatch({type:"login",userCred:n});case 5:t.loginCred={};case 6:case"end":return e.stop()}}),e)})))()},doLogout:function(){this.$store.dispatch({type:"logout"})},signup:function(){var t=this.signupCred;if(!t.email||!t.password||!t.username)return this.msg="Please fill up the form";this.$store.dispatch({type:"signup",userCred:t})},onUploadImg:function(t){var e=this;return Object(A["a"])(regeneratorRuntime.mark((function n(){var s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,Ve(t);case 2:s=n.sent,e.img=s.url,e.signupCred.imgUrl=e.img;case 5:case"end":return n.stop()}}),n)})))()},changeForm:function(){this.isLogin=!this.isLogin,this.isLogin?this.button.txt="Signup for free":this.button.txt="Login now"}},created:function(){},components:{}},He=Je,qe=Object(z["a"])(He,De,Fe,!1,null,null,null),Xe=qe.exports,We=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"editor flex container"},[s("section",{staticClass:"station-form flex justify-center col"},[s("h1",[t._v("Create your station")]),s("form",{staticClass:"flex col flex-start",on:{submit:t.addStation}},[s("label",[s("h3",[t._v("Station name:")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.station.name,expression:"station.name"}],ref:"name",attrs:{type:"text",placeholder:"Enter the station name"},domProps:{value:t.station.name},on:{input:function(e){e.target.composing||t.$set(t.station,"name",e.target.value)}}})]),s("input",{staticClass:"inputfile",attrs:{type:"file",name:"file",id:"file"},on:{change:t.onUploadImg}}),s("label",{attrs:{for:"file"}},[t._v("Upload Station Image")]),s("h3",[t._v("Genre:")]),s("el-select",{attrs:{placeholder:"Select a genre"},model:{value:t.station.genre,callback:function(e){t.$set(t.station,"genre",e)},expression:"station.genre"}},t._l(t.options,(function(t){return s("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1),s("section",{staticClass:"flex col"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.songToFindYoutube,expression:"songToFindYoutube"}],attrs:{type:"text"},domProps:{value:t.songToFindYoutube},on:{input:function(e){e.target.composing||(t.songToFindYoutube=e.target.value)}}}),s("button",{staticClass:"btn edit-sub-btn",on:{click:function(e){return e.preventDefault(),t.searchSongs(e)}}},[t._v("Add song")]),s("vue-custom-scrollbar",{staticClass:"scroll-area",attrs:{suppressScrollX:"",settings:t.settings},on:{"ps-scroll-y":t.scrollHanle}},[s("youtubeSongs",{attrs:{songList:t.songList},on:{addSong:t.addSong}})],1)],1),s("button",{staticClass:"btn submit-btn",attrs:{type:"submit"}},[t._v("Add station")])],1)]),s("div",{staticClass:"preview flex col"},[s("div",{staticClass:"station-details flex space-around"},[s("div",{staticClass:"flex col"},[t.station.name?s("h1",[t._v(t._s(t.station.name))]):s("h1",[t._v("Name")]),t.loggedInUser?s("span",[t._v(" Created By: "+t._s(t.loggedInUser.fullName)+" "),s("img",{attrs:{src:t.loggedInUser.imgUrl,alt:""}})]):s("span",[t._v(" Created By: Guest ")]),t.station.genre?s("span",{staticClass:"genre capitalize"},[t._v(t._s(t.station.genre))]):s("span",{staticClass:"genre"},[t._v("Genre")]),t.station.songs.length?s("span",[s("font-awesome-icon",{staticClass:"icon clock-icon",attrs:{size:"lg",icon:["far","clock"]}}),t._v(" "+t._s(t.station.songs.length)+" tracks ")],1):t._e()]),t.station.imgUrl?s("img",{attrs:{width:"200",src:t.img}}):s("img",{attrs:{width:"200",src:n("0615")}})]),s("section",{staticClass:"station-songs"},[s("song-list-edit",{attrs:{station:t.station},on:{deleteSong:t.deleteSong}})],1)])])},Ke=[],Ze=(n("c975"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:" song-list song-list-edit flex col justify-center align-center "},[n("div",{staticClass:"flex row align-center space-between"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.songTofindStation,expression:"songTofindStation"}],attrs:{type:"text"},domProps:{value:t.songTofindStation},on:{input:function(e){e.target.composing||(t.songTofindStation=e.target.value)}}}),n("button",{staticClass:"btn edit-sub-btn",on:{click:function(e){return e.preventDefault(),t.searchInStation(e)}}},[t._v("Search in Station")])]),0===t.station.songs.length?n("div",{staticClass:"songlist-filler"},[n("p",[t._v("No Songs Yet")])]):n("section",{staticClass:"songlist-container"},[n("vue-custom-scrollbar",{staticClass:"scroll-area",attrs:{suppressScrollX:"",settings:t.settings},on:{"ps-scroll-y":t.scrollHanle}},[n("ul",{staticClass:"clean-list"},t._l(t.songs,(function(e){return n("li",{key:e._id},[n("songListPrev",{attrs:{song:e,edit:!0},on:{deleteSong:t.deleteSong}})],1)})),0)])],1)])}),tn=[];l["c"].add(g["i"]),l["c"].add(g["g"]);var en={name:"songlis-edit",props:{station:Object},data:function(){return{songs:this.station.songs,songToFindYoutube:"",songTofindStation:"",settings:{maxScrollbarLength:60,suppressScrollX:!0}}},computed:{},watch:{songTofindStation:function(t){""===t&&(this.songs=this.station.songs)}},methods:{deleteSong:function(t){this.$emit("deleteSong",t)},searchInStation:function(){var t=this;this.songs=this.station.songs.filter((function(e){return e.title.includes(t.songTofindStation)}))},scrollHanle:function(t){}},components:{songListPrev:ye,youtubeSongs:$e,vueCustomScrollbar:Re.a}},nn=en,sn=Object(z["a"])(nn,Ze,tn,!1,null,null,null),on=sn.exports,an={data:function(){return{station:{name:"",createdBy:null,genre:"",songs:[],imgUrl:""},options:[{value:"hiphop",label:"Hip-Hop"},{value:"arabic",label:"Arabic"},{value:"easy",label:"Easy listening"},{value:"electronic",label:"Electronic"},{value:"country",label:"Country"},{value:"flamenco",label:"Flamenco"},{value:"jazz",label:"Jazz"},{value:"rock",label:"Rock"},{value:"pop",label:"Pop"}],tagToAdd:"",img:"",songToFindYoutube:"",inputVisible:!1,inputValue:"",settings:{maxScrollbarLength:60,suppressScrollX:!0}}},computed:{songList:function(){return this.$store.getters.songList},loggedInUser:function(){return console.log("logged in is",this.$store.getters.loggedinUser),this.$store.getters.loggedinUser}},created:function(){this.station=x.getEmptyStation()},mounted:function(){this.focusInput()},methods:{addTag:function(){this.station.tags.push(this.tagToAdd),this.tagToAdd=""},addStation:function(){this.$store.commit({type:"updateGenresMap",genre:this.station.genre}),this.loggedInUser?this.station.createdBy=this.loggedInUser:this.station.createdBy={fullName:"Guest"},this.$store.dispatch({type:"saveStation",station:this.station}),this.$router.push("/")},onUploadImg:function(t){var e=this;return Object(A["a"])(regeneratorRuntime.mark((function n(){var s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,Ve(t);case 2:s=n.sent,e.img=s.url,e.station.imgUrl=e.img;case 5:case"end":return n.stop()}}),n)})))()},searchSongs:function(){var t=this;return Object(A["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch({type:"searchSong",songStr:t.songToFindYoutube});case 2:case"end":return e.stop()}}),e)})))()},addSong:function(t){this.station.songs.push(t),this.songToFindYoutube="",console.log(t)},deleteSong:function(t){console.log(t);var e=this.station.songs.findIndex((function(e){return e._id===t}));this.station.songs.splice(e,1)},focusInput:function(){this.$refs.name.focus()},handleClose:function(t){this.station.tags.splice(this.station.tags.indexOf(t),1)},showInput:function(){var t=this;this.inputVisible=!0,this.$nextTick((function(e){t.$refs.saveTagInput.$refs.input.focus()}))},handleInputConfirm:function(){var t=this.inputValue;t&&this.station.tags.push(t),this.inputVisible=!1,this.inputValue=""},scrollHanle:function(t){}},components:{vueCustomScrollbar:Re.a,songListEdit:on,youtubeSongs:$e,songList:Ue}},rn=an,cn=n("f9ae"),An=n.n(cn),un=Object(z["a"])(rn,We,Ke,!1,null,null,null);"function"===typeof An.a&&An()(un);var ln=un.exports;o["default"].use(H["a"]);var gn=[{path:"/",name:"home",component:Wt},{path:"/stations/:genre?",name:"stations",component:$t},{path:"/about",name:"About",component:zt},{path:"/login",name:"Login",component:Xe},{path:"/dashboard",name:"dashboard",component:Ft},{path:"/edit/:id?",name:"editStation",component:ln},{path:"/stations/details/:id",name:"stations-details",component:Ge}],dn=new H["a"]({routes:gn}),fn=dn,pn=n("2f62");n("4160"),n("fb6a"),n("159b");o["default"].use(pn["a"]);var mn={strict:!0,state:{stations:[],filterBy:{name:""},songList:{},currSong:{},currStation:{},isPlaying:!0,genresMap:{hiphop:0,arabic:0,easy:0,electronic:0,country:0,flamenco:0,jazz:0,rock:0,pop:0}},getters:{genresMap:function(t){return JSON.parse(JSON.stringify(t.genresMap))},stations:function(t){return console.log("getter",t.stations),t.stations},songList:function(t){return t.songList},currSong:function(t){return t.currSong},currStation:function(t){return console.log(t.currStation),t.currStation},popularStations:function(t){var e=JSON.parse(JSON.stringify(t.stations)),n=e.sort((function(t,e){return t.likedByUsers.length-e.likedByUsers.length}));return n.reverse(),n.slice(0,3)},isPlaying:function(t){return t.isPlaying}},mutations:{updateGenresMap:function(t,e){var n=e.genre;t.genresMap[n]++},setStations:function(t,e){var n=e.stations;t.stations=n,t.stations.forEach((function(e){e.genre&&t.genresMap[e.genre]++}))},setFilter:function(t,e){var n=e.filterBy;t.filterBy=n},updateStation:function(t,e){var n=e.savedStation;console.log("store ststion:",n),console.log("saved station: ",n._id);var s=t.stations.findIndex((function(t){return console.log("station: ",t._id),t._id===n._id}));console.log(s),console.log(t.stations),t.stations.splice(s,1,n)},addStation:function(t,e){t.stations.unshift(e)},setSongList:function(t,e){var n=e.songList;console.log("SET SONGLIST",n),t.songList=n},clearSongList:function(t){t.songList={}},setCurrSong:function(t,e){var n=e.song;t.currSong=n},setCurrStation:function(t,e){var n=e.station;t.currStation=n},setSongStatus:function(t,e){var n=e.isPlaying;t.isPlaying=n},changeSongsOrder:function(t,e){var n=e.stationIdx,s=e.songList;t.stations[n].songs=s,console.log("in store :",t.stations)}},actions:{loadStations:function(t,e){var n=t.commit,s=t.state,o=e.genre;return x.query(s.filterBy,o).then((function(t){return n({type:"setStations",stations:t}),t}))},saveStation:function(t,e){var n=t.commit,s=e.station,o=s._id?"updateStation":"addStation";return x.save(s).then((function(t){n({type:o,savedStation:t})}))},searchSong:function(t,e){var n=t.commit,s=e.songStr;return ne.searchSong(s).then((function(t){n({type:"setSongList",songList:t}),console.log("store commit: ",t)}))},getCurrStation:function(t,e){return Object(A["a"])(regeneratorRuntime.mark((function n(){var s,o,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return s=t.commit,o=e.id,n.next=4,x.getById(o);case 4:a=n.sent,s({type:"setCurrStation",station:a});case 6:case"end":return n.stop()}}),n)})))()},setCurrSong:function(t,e){return Object(A["a"])(regeneratorRuntime.mark((function n(){var s,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return s=t.commit,o=e.song,s({type:"setCurrSong",song:o}),n.abrupt("return",o);case 4:case"end":return n.stop()}}),n)})))()}}},hn="/api/",vn=j.a.create({withCredentials:!0}),bn={get:function(t,e){return Cn(t,"GET",e)},post:function(t,e){return Cn(t,"POST",e)},put:function(t,e){return Cn(t,"PUT",e)},delete:function(t,e){return Cn(t,"DELETE",e)}};function Cn(t){return yn.apply(this,arguments)}function yn(){return yn=Object(A["a"])(regeneratorRuntime.mark((function t(e){var n,s,o,a=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:"get",s=a.length>2&&void 0!==a[2]?a[2]:null,t.prev=2,t.next=5,vn({url:"".concat(hn).concat(e),method:n,data:s});case 5:return o=t.sent,t.abrupt("return",o.data);case 9:t.prev=9,t.t0=t["catch"](2),401===t.t0.response.status&&fn.push("/");case 12:case"end":return t.stop()}}),t,null,[[2,9]])}))),yn.apply(this,arguments)}var Sn={login:kn,logout:Bn,signup:_n,getUsers:On,getById:wn,remove:jn,update:xn};function wn(t){return bn.get("user/".concat(t))}function jn(t){return bn.delete("user/".concat(t))}function xn(t){return bn.put("user/".concat(t._id),t)}function kn(t){return In.apply(this,arguments)}function In(){return In=Object(A["a"])(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,bn.post("auth/login",e);case 3:return n=t.sent,console.log("user-service user is",n),t.abrupt("return",$n(n));case 8:t.prev=8,t.t0=t["catch"](0),console.log("login err",t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])}))),In.apply(this,arguments)}function _n(t){return En.apply(this,arguments)}function En(){return En=Object(A["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,console.log("user-service",e),t.next=4,bn.post("auth/signup",e);case 4:return t.abrupt("return",$n(e));case 7:t.prev=7,t.t0=t["catch"](0),console.log("logout error",t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])}))),En.apply(this,arguments)}function Bn(){return Qn.apply(this,arguments)}function Qn(){return Qn=Object(A["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,bn.post("auth/logout");case 2:sessionStorage.clear();case 3:case"end":return t.stop()}}),t)}))),Qn.apply(this,arguments)}function On(){return bn.get("user")}function $n(t){return console.log("_handleLogin",t),sessionStorage.setItem("user",JSON.stringify(t)),t}var Ln=null;sessionStorage.user&&(Ln=JSON.parse(JSON.stringify(sessionStorage.user)));var Rn={strict:!0,state:{loggedinUser:JSON.parse(Ln),users:[]},getters:{users:function(t){return t.users},loggedinUser:function(t){return console.log("store",t.loggedinUser),t.loggedinUser}},mutations:{setUser:function(t,e){var n=e.user;console.log(n),t.loggedinUser=n},setUsers:function(t,e){var n=e.users;t.users=n},removeUser:function(t,e){var n=e.userId;t.users=t.users.filter((function(t){return t._id!==n}))}},actions:{login:function(t,e){return Object(A["a"])(regeneratorRuntime.mark((function n(){var s,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return s=e.userCred,console.log(s),n.next=4,Sn.login(s);case 4:return o=n.sent,t.commit({type:"setUser",user:o}),n.abrupt("return",o);case 7:case"end":return n.stop()}}),n)})))()},signup:function(t,e){return Object(A["a"])(regeneratorRuntime.mark((function n(){var s,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return s=e.userCred,n.next=3,Sn.signup(s);case 3:return o=n.sent,t.commit({type:"setUser",user:o}),n.abrupt("return",o);case 6:case"end":return n.stop()}}),n)})))()},logout:function(t){return Object(A["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Sn.logout();case 2:t.commit({type:"setUsers",users:[]}),t.commit({type:"setUser",user:null});case 4:case"end":return e.stop()}}),e)})))()}}},Mn={query:Tn};function Tn(){return Pn.apply(this,arguments)}function Pn(){return Pn=Object(A["a"])(regeneratorRuntime.mark((function t(){var e,n,s=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=s.length>0&&void 0!==s[0]?s[0]:"",t.next=3,bn.get("/msg?aboutStationId=".concat(e));case 3:return n=t.sent,t.abrupt("return",n.data);case 5:case"end":return t.stop()}}),t)}))),Pn.apply(this,arguments)}var Un={state:{msgs:[]},getters:{msgs:function(t){return t.msgs}},mutations:{setMsgs:function(t,e){var n=e.msgs;t.msgs=n},updateMsgs:function(t,e){var n=e.msg;t.msgs.push(n)}},actions:{setupSocket:function(t){h.setup()},addMsg:function(t,e){var n=e.msg;h.on("chat addMsg",n)},setupSocketName:function(t,e){var n=e.chatId;h.emit("chat name",n)},showTyping:function(t,e){var n=e.isTyping;h.on("chat showTyping",n)},sendMsg:function(t,e){var n=e.msg;h.emit("chat newMsg",n)},loadMsgs:function(t,e){return Object(A["a"])(regeneratorRuntime.mark((function n(){var s,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return s=e.stationId,n.next=3,Mn.query(s);case 3:o=n.sent,t.commit({type:"setMsgs",msgs:o});case 5:case"end":return n.stop()}}),n)})))()}}};o["default"].use(pn["a"]);var zn=new pn["a"].Store({strict:!0,state:{},mutations:{},actions:{},modules:{userStore:Rn,stationStore:mn,socketStore:Un}}),Yn=(n("3782"),n("5c96")),Nn=n.n(Yn),Gn=(n("0fae"),n("e0ec")),Dn=n.n(Gn);l["c"].add(g["k"]),o["default"].component("font-awesome-icon",u["a"]),o["default"].use(Nn.a),o["default"].use(Dn.a),o["default"].config.productionTip=!1,new o["default"]({router:fn,store:zn,render:function(t){return t(V)}}).$mount("#app")},"6ee5":function(t,e,n){t.exports=n.p+"img/hero.7c7aa3ef.jpg"},9118:function(t,e,n){t.exports=n.p+"img/itamar.8273bcbf.jpg"},a6a4:function(t,e,n){t.exports=n.p+"img/naomis-pic.73e87d3c.jpg"},a8ec:function(t,e){},a951:function(t,e,n){t.exports=n.p+"img/sound-gif2.d1a782b3.gif"},b2d4:function(t,e,n){t.exports=n.p+"img/country1.c39627ca.jpg"},b382:function(t,e,n){t.exports=n.p+"img/easy.7d6fc972.webp"},b69a:function(t,e,n){t.exports=n.p+"img/arabic.fa6b044c.jpg"},cf05:function(t,e,n){t.exports=n.p+"img/logo.a2c8f2d5.png"},f9ae:function(t,e){},fc2b:function(t,e,n){t.exports=n.p+"img/hiphop1.ce83259f.jpg"},fdd1:function(t,e){},ff43:function(t,e,n){t.exports=n.p+"img/hero2.43630995.jpg"}});
//# sourceMappingURL=app.bebfb574.js.map